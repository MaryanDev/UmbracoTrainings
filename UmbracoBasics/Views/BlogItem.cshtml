@inherits Umbraco.Web.Mvc.UmbracoViewPage<ContentModels.BlogItem>
@using ContentModels = Umbraco.Web.PublishedModels;
@{
    Layout = "master.cshtml";
}

<div class="container-fluid grey-bg">
    <div class="container">
        <div class="row section">
            <div class="col-md-6">
                <div class="meta-author media p-3">
                    @{
                        var authorImage = Model.Value<IPublishedContent>("authorImage");
                        if (authorImage != null)
                        {
                            <img style="width:60px;" src="@authorImage.Url" class="mr-3 mt-2 img-fluid" alt="@authorImage.Value("alt")" />
                        }
                    }
                    <div class="media-body">
                        <p>
                            <span class="font-weight-bold">Written by</span> <br />
                            @Model.Value("authorName")<br />
                            <span class="font-italic">@Model.Value("authorTitle")</span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="meta-meta text-right">
                    <p>
                        <br />
                        <span class="font-weight-bold">Published on</span> January 9th 2020 <br />
                        <span class="font-weight-bold">Category:</span> <a href="#">@Model.Value("categories")</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Blogpost content -->
<div class="container">

    <div class="row section">
        <div class="col-md-12">
            <p class="intro">
                @Model.Value("introText")
            </p>
            <br />
            @Model.Value("bodyText")
        </div>
    </div>
</div>

<!-- Related story -->
<div class="container-fluid orange-bg">
    <div class="container">
        <div class="row section">
            <div class="col-md-12 blog-related">
                <h4>Related story:</h4>
                @{
                    var relatedStory = Model.Value<IPublishedContent>("relatedStory");
                    if (relatedStory != null)
                    {
                        <a href="@relatedStory.Url">
                            <h5>@relatedStory.Value("pageTitle") </h5>
                        </a>
                        <p>@relatedStory.Value("excerpt")</p><br />
                        <span class="font-italic">Written by @relatedStory.Value("authorName")</span>
                    }
                }
            </div>
        </div>
    </div>
</div>